<?phpfunction pagination($page, $total, $query = null){	$adjacents = 2;	$prev = $page - 1;	$next = $page + 1;	$lastpage = ceil($total/NUMBER_PER_PAGE);	$second_to_lastpage = $lastpage - 1;	$max_pages = 5;		//make sure it has the & before the extras list	if ($query && substr($query, 0, 1) != "&")		$query = "&" . $query;	if ($page > 1) 		echo "<a href=\"?page=$prev$query\"><button type='button' class='btn btn-primary btn-sm '>Back</button></a> ";	else		echo "<button type='button' class='btn btn-primary btn-sm '>Back</button>";				//not enough pages to bother breaking it up	if ($lastpage <= $max_pages)	{			for ($counter = 1; $counter <= $lastpage; $counter++)		{			if ($counter == $page)				echo "<span class=\"current\"> <button type='button' class='btn btn-primary btn-sm'>$counter</button></span> ";			else				echo "<a href=\"?page=$counter$query\"><button type='button' class='btn btn-primary btn-sm '>$counter</button></a> ";							}	}		elseif ($lastpage > $max_pages)	//enough pages to hide some	{		//close to beginning; only hide later pages		if ($page < $max_pages)				{			for ($counter = 1; $counter <= $max_pages; $counter++)			{				if ($counter == $page)					echo "<span class=\"current\"><button type='button' class='btn btn-primary btn-sm'>$counter</button></span> ";				else					echo "<a href=\"?page=$counter$query\"><button type='button' class='btn btn-primary btn-sm '>$counter</button></a> ";								}					echo "... <a href=\"?$query&page=$second_to_lastpage\"><button type='button' class='btn btn-primary btn-sm '>$second_to_lastpage</button>    </a>				<a href=\"?page=$lastpage$query\"><button type='button' class='btn btn-primary btn-sm '>$lastpage</button></a> ";				}		elseif ($page >= $max_pages && ($page + $adjacents) < $lastpage)		{						echo "<a href=\"?page=1\">1</a><button type='button' class='btn btn-primary btn-sm '>...</button> ";						for ($counter = $page - $adjacents; $counter <= ($page + $adjacents); $counter++)			{				if ($counter == $page)					echo "<span class=\"current\"><button type='button' class='btn btn-primary btn-sm'>$counter</button></span> ";				else					echo "<a href=\"?page=$counter$query\"><button type='button' class='btn btn-primary btn-sm '>$counter</button></a> ";								}						echo "... <a href=\"?page=$lastpage$query\"> <button type='button' class='btn btn-primary btn-sm '>$lastpage</button></a> ";				}		//close to end; only hide early pages		else		{			echo "<a href=\"?page=1$query\"><button type='button' class='btn btn-primary btn-sm '>1</button></a> 				<a href=\"?page=2$query\">2</a><button type='button' class='btn btn-primary btn-sm '>...</button> ";							for ($counter = $lastpage - $adjacents; $counter <= $lastpage; $counter++)			{				if ($counter == $page)					echo "<span class=\"current\"><button type='button' class='btn btn-primary btn-sm '>$counter</button></span> ";				else					echo "<a href=\"?page=$counter$query\"><button type='button' class='btn btn-primary btn-sm '>$counter</button></a> ";								}		}	}	if ($page < $lastpage) 		echo "<a href=\"?page=$next$query\"> <button type='button' class='btn btn-primary btn-sm'>Next</button> </a>";	else		echo " <button type='button' class='btn btn-primary btn-sm ' >Next</button>";}?>